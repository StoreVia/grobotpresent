const Discord = require("discord.js");
const api = require("imageapi.js")

async function sendMeme(msgormessage, title){

  if(!msgormessage) throw new TypeError("You must specify that you are using message or msg")

   if(!title) throw new TypeError("You must provide title for set embed's title")

  let subreddits = [
      "memes",
    ];
    let subreddit = subreddits[Math.floor(Math.random()*(subreddits.length))];

    let img = await api(subreddit)

    const Embed = new Discord.MessageEmbed().setTitle(title).setURL(`https://www.reddit.com/r/memes`).setColor("RANDOM").setImage(img)

    msgormessage.channel.send(Embed)
}
module.exports = sendMeme;